/* ===========================================
   LUME DESIGN SYSTEM v2.0
   Professional Minimalistic Design Enhancement
   
   Features:
   - 12-column Grid System
   - 8-16px Spacing Scale
   - San Francisco Typography
   - Blue-based Color Palette
   - Dark Mode Support
   - WCAG AA Accessibility
   - Micro-animations
   =========================================== */

/* ===========================================
   1. CSS CUSTOM PROPERTIES (Design Tokens)
   =========================================== */

:root {
    /* =========================================
       COLOR PALETTE (5-7 colors for harmony)
       ========================================= */

    /* Primary: Slate Blue */
    --color-primary: #334B5F;
    --color-primary-light: #4A6580;
    --color-primary-dark: #1E2D3A;
    --color-primary-alpha-10: rgba(51, 75, 95, 0.1);
    --color-primary-alpha-20: rgba(51, 75, 95, 0.2);

    /* Secondary: Muted Teal */
    --color-secondary: #4A90E2;
    --color-secondary-light: #6BA5E9;
    --color-secondary-dark: #3A7BC8;
    --color-secondary-alpha-10: rgba(74, 144, 226, 0.1);
    --color-secondary-alpha-20: rgba(74, 144, 226, 0.2);

    /* Accent: Soft Teal */
    --color-accent: #5EADB0;
    --color-accent-light: #7FC4C7;
    --color-accent-dark: #4A9A9D;

    /* Semantic: Success */
    --color-success: #22C55E;
    --color-success-light: #4ADE80;
    --color-success-dark: #16A34A;
    --color-success-bg: rgba(34, 197, 94, 0.1);

    /* Semantic: Error */
    --color-error: #EF4444;
    --color-error-light: #F87171;
    --color-error-dark: #DC2626;
    --color-error-bg: rgba(239, 68, 68, 0.1);

    /* Semantic: Warning */
    --color-warning: #F59E0B;
    --color-warning-light: #FBBF24;
    --color-warning-dark: #D97706;
    --color-warning-bg: rgba(245, 158, 11, 0.1);

    /* Semantic: Info */
    --color-info: #4A90E2;
    --color-info-light: #60A5FA;
    --color-info-dark: #2563EB;
    --color-info-bg: rgba(74, 144, 226, 0.1);

    /* Neutrals: Light Grays */
    --color-neutral-50: #F5F7FA;
    --color-neutral-100: #E8ECF1;
    --color-neutral-200: #D1D8E0;
    --color-neutral-300: #A8B5C4;
    --color-neutral-400: #8494A7;
    --color-neutral-500: #6B7280;
    --color-neutral-600: #4B5563;
    --color-neutral-700: #374151;
    --color-neutral-800: #1F2937;
    --color-neutral-900: #111827;

    /* Background & Surface */
    --color-bg-primary: #FFFFFF;
    --color-bg-secondary: #F5F7FA;
    --color-bg-tertiary: #E8ECF1;
    --color-surface: #FFFFFF;
    --color-surface-raised: #FFFFFF;

    /* Text Colors */
    --color-text-primary: #1F2937;
    --color-text-secondary: #4B5563;
    --color-text-tertiary: #6B7280;
    --color-text-muted: #9CA3AF;
    --color-text-inverse: #FFFFFF;

    /* Border Colors */
    --color-border-light: #E8ECF1;
    --color-border: #D1D8E0;
    --color-border-dark: #A8B5C4;

    /* =========================================
       TYPOGRAPHY (San Francisco / Inter fallback)
       ========================================= */

    --font-family-primary: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Inter', 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    --font-family-mono: 'SF Mono', 'Fira Code', 'Consolas', Monaco, monospace;

    /* Type Scale (Dynamic with clamp) */
    --font-size-xs: clamp(0.6875rem, 0.65rem + 0.1vw, 0.75rem);
    /* 11-12px */
    --font-size-sm: clamp(0.8125rem, 0.78rem + 0.1vw, 0.875rem);
    /* 13-14px */
    --font-size-base: clamp(0.9375rem, 0.9rem + 0.15vw, 1rem);
    /* 15-16px */
    --font-size-lg: clamp(1.0625rem, 1rem + 0.2vw, 1.125rem);
    /* 17-18px */
    --font-size-xl: clamp(1.1875rem, 1.1rem + 0.25vw, 1.25rem);
    /* 19-20px */
    --font-size-2xl: clamp(1.375rem, 1.25rem + 0.4vw, 1.5rem);
    /* 22-24px */
    --font-size-3xl: clamp(1.625rem, 1.5rem + 0.5vw, 1.875rem);
    /* 26-30px */
    --font-size-4xl: clamp(1.875rem, 1.75rem + 0.6vw, 2rem);
    /* 30-32px */
    --font-size-5xl: clamp(2.25rem, 2rem + 0.8vw, 2.5rem);
    /* 36-40px */

    /* Font Weights */
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    /* Line Heights */
    --line-height-tight: 1.25;
    --line-height-snug: 1.375;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;

    /* Letter Spacing */
    --letter-spacing-tight: -0.025em;
    --letter-spacing-normal: 0;
    --letter-spacing-wide: 0.025em;
    --letter-spacing-wider: 0.05em;
    --letter-spacing-widest: 0.1em;

    /* =========================================
       SPACING (8px base with 4px fine-tuning)
       ========================================= */

    --space-0: 0;
    --space-1: 0.25rem;
    /* 4px */
    --space-2: 0.5rem;
    /* 8px */
    --space-3: 0.75rem;
    /* 12px */
    --space-4: 1rem;
    /* 16px */
    --space-5: 1.25rem;
    /* 20px */
    --space-6: 1.5rem;
    /* 24px */
    --space-8: 2rem;
    /* 32px */
    --space-10: 2.5rem;
    /* 40px */
    --space-12: 3rem;
    /* 48px */
    --space-16: 4rem;
    /* 64px */
    --space-20: 5rem;
    /* 80px */
    --space-24: 6rem;
    /* 96px */

    /* =========================================
       12-COLUMN GRID SYSTEM
       ========================================= */

    --grid-columns: 12;
    --grid-gutter: 1.5rem;
    /* 24px gutter */
    --grid-margin: 1.5rem;
    /* 24px margin */
    --container-max-width: 1280px;
    --container-max-width-sm: 640px;
    --container-max-width-md: 768px;
    --container-max-width-lg: 1024px;
    --container-max-width-xl: 1280px;
    --container-max-width-2xl: 1536px;

    /* Content Width (50-70% whitespace = 30-50% content) */
    --content-width-narrow: 60%;
    --content-width-normal: 70%;
    --content-width-wide: 85%;

    /* =========================================
       BORDERS & RADIUS (8-12px rounded)
       ========================================= */

    --radius-none: 0;
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --radius-2xl: 24px;
    --radius-full: 9999px;

    /* Border Widths */
    --border-width-thin: 1px;
    --border-width-medium: 2px;
    --border-width-thick: 3px;

    /* =========================================
       SHADOWS (Soft, Layered Depth)
       ========================================= */

    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.06);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.12);
    --shadow-2xl: 0 20px 40px rgba(0, 0, 0, 0.15);

    /* Inset Shadows */
    --shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.06);
    --shadow-inner-lg: inset 0 4px 8px rgba(0, 0, 0, 0.1);

    /* Focus Ring Shadow */
    --shadow-focus: 0 0 0 3px var(--color-secondary-alpha-20);
    --shadow-focus-error: 0 0 0 3px var(--color-error-bg);

    /* =========================================
       ANIMATIONS & TRANSITIONS
       ========================================= */

    /* Duration (150-300ms range) */
    --duration-instant: 50ms;
    --duration-fast: 150ms;
    --duration-normal: 200ms;
    --duration-slow: 300ms;
    --duration-slower: 400ms;

    /* Easing (Cubic Bezier Curves) */
    --ease-linear: linear;
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    --ease-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55);

    /* Transition Presets */
    --transition-fast: all var(--duration-fast) var(--ease-in-out);
    --transition-normal: all var(--duration-normal) var(--ease-in-out);
    --transition-slow: all var(--duration-slow) var(--ease-in-out);
    --transition-transform: transform var(--duration-normal) var(--ease-out);
    --transition-opacity: opacity var(--duration-normal) var(--ease-in-out);
    --transition-colors: background-color var(--duration-fast) var(--ease-in-out),
        color var(--duration-fast) var(--ease-in-out),
        border-color var(--duration-fast) var(--ease-in-out);

    /* =========================================
       Z-INDEX SCALE
       ========================================= */

    --z-below: -1;
    --z-base: 0;
    --z-docked: 10;
    --z-dropdown: 100;
    --z-sticky: 200;
    --z-header: 300;
    --z-overlay: 400;
    --z-modal: 500;
    --z-popover: 600;
    --z-tooltip: 700;
    --z-toast: 800;
    --z-max: 999;

    /* =========================================
       LAYOUT
       ========================================= */

    --sidebar-width: 260px;
    --sidebar-width-collapsed: 72px;
    --header-height: 64px;
    --footer-height: 48px;
}

/* ===========================================
   2. DARK MODE (System Preference Sync)
   =========================================== */

@media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) {
        /* Dark Background & Surface */
        --color-bg-primary: #121212;
        --color-bg-secondary: #1A1A1A;
        --color-bg-tertiary: #222222;
        --color-surface: #1E1E1E;
        --color-surface-raised: #2A2A2A;

        /* Dark Text Colors */
        --color-text-primary: #F5F7FA;
        --color-text-secondary: #D1D8E0;
        --color-text-tertiary: #A8B5C4;
        --color-text-muted: #6B7280;
        --color-text-inverse: #1F2937;

        /* Dark Border Colors */
        --color-border-light: #2A2A2A;
        --color-border: #3A3A3A;
        --color-border-dark: #4A4A4A;

        /* Adjusted Primary for Dark */
        --color-primary: #5A7A9A;
        --color-primary-light: #7A9ABA;
        --color-primary-dark: #3A5A7A;

        /* Adjusted Shadows for Dark */
        --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.2);
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.25);
        --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.35);
        --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.4);
    }
}

/* Manual Dark Mode Toggle */
[data-theme="dark"] {
    --color-bg-primary: #121212;
    --color-bg-secondary: #1A1A1A;
    --color-bg-tertiary: #222222;
    --color-surface: #1E1E1E;
    --color-surface-raised: #2A2A2A;

    --color-text-primary: #F5F7FA;
    --color-text-secondary: #D1D8E0;
    --color-text-tertiary: #A8B5C4;
    --color-text-muted: #6B7280;
    --color-text-inverse: #1F2937;

    --color-border-light: #2A2A2A;
    --color-border: #3A3A3A;
    --color-border-dark: #4A4A4A;

    --color-primary: #5A7A9A;
    --color-primary-light: #7A9ABA;
    --color-primary-dark: #3A5A7A;

    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.2);
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.25);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.35);
    --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.4);
}

/* ===========================================
   3. CSS RESET & BASE STYLES
   =========================================== */

*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    scroll-behavior: smooth;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

body {
    font-family: var(--font-family-primary);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-normal);
    color: var(--color-text-primary);
    background-color: var(--color-bg-secondary);
    min-height: 100vh;
    transition: background-color var(--duration-slow) var(--ease-in-out),
        color var(--duration-slow) var(--ease-in-out);
}

/* ===========================================
   4. TYPOGRAPHY HIERARCHY
   =========================================== */

/* H1: 32px Bold (Hero/Page Titles) */
h1,
.h1 {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    letter-spacing: var(--letter-spacing-tight);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
}

/* H2: 24px Semibold (Section Headers) */
h2,
.h2 {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-snug);
    letter-spacing: var(--letter-spacing-tight);
    color: var(--color-text-primary);
    margin-bottom: var(--space-3);
}

/* H3: 20px Semibold (Subsections) */
h3,
.h3 {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-snug);
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
}

/* H4: 18px Medium (Card Titles) */
h4,
.h4 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-snug);
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
}

/* Body: 16px Regular */
p,
.body {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-4);
}

/* Small: 14px */
small,
.small,
.text-sm {
    font-size: var(--font-size-sm);
    line-height: var(--line-height-normal);
}

/* Caption: 12px */
.caption,
.text-xs {
    font-size: var(--font-size-xs);
    line-height: var(--line-height-normal);
    color: var(--color-text-tertiary);
}

/* ===========================================
   5. 12-COLUMN GRID SYSTEM
   =========================================== */

.container {
    width: 100%;
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--grid-margin);
    padding-right: var(--grid-margin);
}

.container-fluid {
    width: 100%;
    padding-left: var(--grid-margin);
    padding-right: var(--grid-margin);
}

.row {
    display: flex;
    flex-wrap: wrap;
    margin-left: calc(var(--grid-gutter) / -2);
    margin-right: calc(var(--grid-gutter) / -2);
}

.col {
    flex: 1 0 0%;
    padding-left: calc(var(--grid-gutter) / 2);
    padding-right: calc(var(--grid-gutter) / 2);
}

/* Column Sizes */
.col-1 {
    flex: 0 0 calc(100% / 12 * 1);
    max-width: calc(100% / 12 * 1);
}

.col-2 {
    flex: 0 0 calc(100% / 12 * 2);
    max-width: calc(100% / 12 * 2);
}

.col-3 {
    flex: 0 0 calc(100% / 12 * 3);
    max-width: calc(100% / 12 * 3);
}

.col-4 {
    flex: 0 0 calc(100% / 12 * 4);
    max-width: calc(100% / 12 * 4);
}

.col-5 {
    flex: 0 0 calc(100% / 12 * 5);
    max-width: calc(100% / 12 * 5);
}

.col-6 {
    flex: 0 0 calc(100% / 12 * 6);
    max-width: calc(100% / 12 * 6);
}

.col-7 {
    flex: 0 0 calc(100% / 12 * 7);
    max-width: calc(100% / 12 * 7);
}

.col-8 {
    flex: 0 0 calc(100% / 12 * 8);
    max-width: calc(100% / 12 * 8);
}

.col-9 {
    flex: 0 0 calc(100% / 12 * 9);
    max-width: calc(100% / 12 * 9);
}

.col-10 {
    flex: 0 0 calc(100% / 12 * 10);
    max-width: calc(100% / 12 * 10);
}

.col-11 {
    flex: 0 0 calc(100% / 12 * 11);
    max-width: calc(100% / 12 * 11);
}

.col-12 {
    flex: 0 0 100%;
    max-width: 100%;
}

/* Responsive Columns */
@media (min-width: 640px) {
    .col-sm-1 {
        flex: 0 0 calc(100% / 12 * 1);
        max-width: calc(100% / 12 * 1);
    }

    .col-sm-2 {
        flex: 0 0 calc(100% / 12 * 2);
        max-width: calc(100% / 12 * 2);
    }

    .col-sm-3 {
        flex: 0 0 calc(100% / 12 * 3);
        max-width: calc(100% / 12 * 3);
    }

    .col-sm-4 {
        flex: 0 0 calc(100% / 12 * 4);
        max-width: calc(100% / 12 * 4);
    }

    .col-sm-6 {
        flex: 0 0 calc(100% / 12 * 6);
        max-width: calc(100% / 12 * 6);
    }

    .col-sm-12 {
        flex: 0 0 100%;
        max-width: 100%;
    }
}

@media (min-width: 768px) {
    .col-md-1 {
        flex: 0 0 calc(100% / 12 * 1);
        max-width: calc(100% / 12 * 1);
    }

    .col-md-2 {
        flex: 0 0 calc(100% / 12 * 2);
        max-width: calc(100% / 12 * 2);
    }

    .col-md-3 {
        flex: 0 0 calc(100% / 12 * 3);
        max-width: calc(100% / 12 * 3);
    }

    .col-md-4 {
        flex: 0 0 calc(100% / 12 * 4);
        max-width: calc(100% / 12 * 4);
    }

    .col-md-6 {
        flex: 0 0 calc(100% / 12 * 6);
        max-width: calc(100% / 12 * 6);
    }

    .col-md-8 {
        flex: 0 0 calc(100% / 12 * 8);
        max-width: calc(100% / 12 * 8);
    }

    .col-md-12 {
        flex: 0 0 100%;
        max-width: 100%;
    }
}

@media (min-width: 1024px) {
    .col-lg-1 {
        flex: 0 0 calc(100% / 12 * 1);
        max-width: calc(100% / 12 * 1);
    }

    .col-lg-2 {
        flex: 0 0 calc(100% / 12 * 2);
        max-width: calc(100% / 12 * 2);
    }

    .col-lg-3 {
        flex: 0 0 calc(100% / 12 * 3);
        max-width: calc(100% / 12 * 3);
    }

    .col-lg-4 {
        flex: 0 0 calc(100% / 12 * 4);
        max-width: calc(100% / 12 * 4);
    }

    .col-lg-6 {
        flex: 0 0 calc(100% / 12 * 6);
        max-width: calc(100% / 12 * 6);
    }

    .col-lg-8 {
        flex: 0 0 calc(100% / 12 * 8);
        max-width: calc(100% / 12 * 8);
    }

    .col-lg-9 {
        flex: 0 0 calc(100% / 12 * 9);
        max-width: calc(100% / 12 * 9);
    }

    .col-lg-12 {
        flex: 0 0 100%;
        max-width: 100%;
    }
}

/* ===========================================
   6. BUTTON COMPONENTS
   =========================================== */

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    font-family: var(--font-family-primary);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-normal);
    text-decoration: none;
    border: var(--border-width-thin) solid transparent;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-fast);
    white-space: nowrap;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

.btn:focus-visible {
    outline: none;
    box-shadow: var(--shadow-focus);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

/* Primary Button */
.btn-primary {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
    color: var(--color-text-inverse);
    box-shadow: var(--shadow-sm);
}

.btn-primary:hover:not(:disabled) {
    background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-primary) 100%);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.btn-primary:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: var(--shadow-xs);
}

/* Secondary Button */
.btn-secondary {
    background: var(--color-surface);
    color: var(--color-text-primary);
    border-color: var(--color-border);
}

.btn-secondary:hover:not(:disabled) {
    background: var(--color-bg-secondary);
    border-color: var(--color-border-dark);
}

/* Ghost Button */
.btn-ghost {
    background: transparent;
    color: var(--color-text-secondary);
}

.btn-ghost:hover:not(:disabled) {
    background: var(--color-bg-tertiary);
    color: var(--color-text-primary);
}

/* Danger Button */
.btn-danger {
    background: var(--color-error);
    color: var(--color-text-inverse);
}

.btn-danger:hover:not(:disabled) {
    background: var(--color-error-dark);
}

.btn-danger:focus-visible {
    box-shadow: var(--shadow-focus-error);
}

/* Button Sizes */
.btn-sm {
    padding: var(--space-1) var(--space-3);
    font-size: var(--font-size-xs);
}

.btn-lg {
    padding: var(--space-3) var(--space-6);
    font-size: var(--font-size-base);
}

/* Button with Icon */
.btn svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}

.btn-lg svg {
    width: 20px;
    height: 20px;
}

/* ===========================================
   7. CARD COMPONENTS
   =========================================== */

.card {
    background: var(--color-surface);
    border: var(--border-width-thin) solid var(--color-border-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    padding: var(--space-6);
    transition: var(--transition-normal);
}

.card:hover {
    box-shadow: var(--shadow-md);
}

.card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-bottom: var(--space-4);
    margin-bottom: var(--space-4);
    border-bottom: var(--border-width-thin) solid var(--color-border-light);
}

.card-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-primary);
    margin: 0;
}

.card-body {
    color: var(--color-text-secondary);
}

.card-footer {
    padding-top: var(--space-4);
    margin-top: var(--space-4);
    border-top: var(--border-width-thin) solid var(--color-border-light);
}

/* Clickable Card */
.card-interactive {
    cursor: pointer;
}

.card-interactive:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.card-interactive:focus-visible {
    outline: none;
    box-shadow: var(--shadow-focus), var(--shadow-md);
}

/* ===========================================
   8. FORM INPUTS
   =========================================== */

.input-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    margin-bottom: var(--space-4);
}

.input-label {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
}

.input {
    width: 100%;
    padding: var(--space-3) var(--space-4);
    font-family: var(--font-family-primary);
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
    background: var(--color-surface);
    border: var(--border-width-thin) solid var(--color-border);
    border-radius: var(--radius-md);
    transition: var(--transition-fast);
}

.input:hover:not(:disabled):not(:focus) {
    border-color: var(--color-border-dark);
}

.input:focus {
    outline: none;
    border-color: var(--color-secondary);
    box-shadow: var(--shadow-focus);
}

.input::placeholder {
    color: var(--color-text-muted);
}

.input:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background: var(--color-bg-secondary);
}

/* Input Error State */
.input-error {
    border-color: var(--color-error);
}

.input-error:focus {
    box-shadow: var(--shadow-focus-error);
}

.input-error-message {
    font-size: var(--font-size-xs);
    color: var(--color-error);
    margin-top: var(--space-1);
}

/* ===========================================
   9. BADGES
   =========================================== */

.badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-1) var(--space-2);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    border-radius: var(--radius-full);
    white-space: nowrap;
}

.badge-success {
    background: var(--color-success-bg);
    color: var(--color-success-dark);
}

.badge-warning {
    background: var(--color-warning-bg);
    color: var(--color-warning-dark);
}

.badge-danger {
    background: var(--color-error-bg);
    color: var(--color-error-dark);
}

.badge-info {
    background: var(--color-info-bg);
    color: var(--color-info-dark);
}

.badge-neutral {
    background: var(--color-neutral-100);
    color: var(--color-neutral-700);
}

/* ===========================================
   10. ACCESSIBILITY ENHANCEMENTS
   =========================================== */

/* Skip Link */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-primary);
    color: var(--color-text-inverse);
    padding: var(--space-2) var(--space-4);
    z-index: var(--z-max);
    transition: top var(--duration-fast) var(--ease-out);
}

.skip-link:focus {
    top: 0;
}

/* Focus Visible (Enhanced) */
:focus-visible {
    outline: 2px solid var(--color-secondary);
    outline-offset: 2px;
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    :root {
        --color-border: var(--color-neutral-600);
        --shadow-sm: none;
        --shadow-md: none;
        --shadow-lg: none;
    }

    .btn-primary {
        border: 2px solid var(--color-text-inverse);
    }
}

/* Screen Reader Only */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Focus Within for Form Groups */
.input-group:focus-within .input-label {
    color: var(--color-secondary);
}

/* ===========================================
   11. MICRO-ANIMATIONS
   =========================================== */

/* Fade In */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.animate-fade-in {
    animation: fadeIn var(--duration-normal) var(--ease-out);
}

/* Slide Up */
@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slide-up {
    animation: slideUp var(--duration-slow) var(--ease-out);
}

/* Slide Down */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slide-down {
    animation: slideDown var(--duration-slow) var(--ease-out);
}

/* Scale In */
@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

.animate-scale-in {
    animation: scaleIn var(--duration-normal) var(--ease-out);
}

/* Pulse */
@keyframes pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

.animate-pulse {
    animation: pulse 2s var(--ease-in-out) infinite;
}

/* Spin */
@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

.animate-spin {
    animation: spin 1s linear infinite;
}

/* Stagger Children Animation */
.stagger-children>* {
    opacity: 0;
    animation: slideUp var(--duration-slow) var(--ease-out) forwards;
}

.stagger-children>*:nth-child(1) {
    animation-delay: 0ms;
}

.stagger-children>*:nth-child(2) {
    animation-delay: 50ms;
}

.stagger-children>*:nth-child(3) {
    animation-delay: 100ms;
}

.stagger-children>*:nth-child(4) {
    animation-delay: 150ms;
}

.stagger-children>*:nth-child(5) {
    animation-delay: 200ms;
}

.stagger-children>*:nth-child(6) {
    animation-delay: 250ms;
}

/* ===========================================
   12. UTILITY CLASSES
   =========================================== */

/* Spacing Utilities */
.m-0 {
    margin: 0;
}

.m-1 {
    margin: var(--space-1);
}

.m-2 {
    margin: var(--space-2);
}

.m-4 {
    margin: var(--space-4);
}

.mt-0 {
    margin-top: 0;
}

.mt-2 {
    margin-top: var(--space-2);
}

.mt-4 {
    margin-top: var(--space-4);
}

.mt-6 {
    margin-top: var(--space-6);
}

.mt-8 {
    margin-top: var(--space-8);
}

.mb-0 {
    margin-bottom: 0;
}

.mb-2 {
    margin-bottom: var(--space-2);
}

.mb-4 {
    margin-bottom: var(--space-4);
}

.mb-6 {
    margin-bottom: var(--space-6);
}

.mb-8 {
    margin-bottom: var(--space-8);
}

.p-0 {
    padding: 0;
}

.p-2 {
    padding: var(--space-2);
}

.p-4 {
    padding: var(--space-4);
}

.p-6 {
    padding: var(--space-6);
}

.px-4 {
    padding-left: var(--space-4);
    padding-right: var(--space-4);
}

.py-4 {
    padding-top: var(--space-4);
    padding-bottom: var(--space-4);
}

/* Flexbox Utilities */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.flex-wrap {
    flex-wrap: wrap;
}

.items-center {
    align-items: center;
}

.items-start {
    align-items: flex-start;
}

.items-end {
    align-items: flex-end;
}

.justify-center {
    justify-content: center;
}

.justify-between {
    justify-content: space-between;
}

.justify-end {
    justify-content: flex-end;
}

.gap-1 {
    gap: var(--space-1);
}

.gap-2 {
    gap: var(--space-2);
}

.gap-3 {
    gap: var(--space-3);
}

.gap-4 {
    gap: var(--space-4);
}

.gap-6 {
    gap: var(--space-6);
}

/* Text Utilities */
.text-center {
    text-align: center;
}

.text-right {
    text-align: right;
}

.text-left {
    text-align: left;
}

.text-primary {
    color: var(--color-text-primary);
}

.text-secondary {
    color: var(--color-text-secondary);
}

.text-muted {
    color: var(--color-text-muted);
}

.text-success {
    color: var(--color-success);
}

.text-error {
    color: var(--color-error);
}

.text-warning {
    color: var(--color-warning);
}

.font-medium {
    font-weight: var(--font-weight-medium);
}

.font-semibold {
    font-weight: var(--font-weight-semibold);
}

.font-bold {
    font-weight: var(--font-weight-bold);
}

/* Display Utilities */
.hidden {
    display: none;
}

.block {
    display: block;
}

.inline-block {
    display: inline-block;
}

.inline-flex {
    display: inline-flex;
}

/* Truncate */
.truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Line Clamp */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Rounded Utilities */
.rounded {
    border-radius: var(--radius-md);
}

.rounded-lg {
    border-radius: var(--radius-lg);
}

.rounded-full {
    border-radius: var(--radius-full);
}

/* Shadow Utilities */
.shadow-sm {
    box-shadow: var(--shadow-sm);
}

.shadow-md {
    box-shadow: var(--shadow-md);
}

.shadow-lg {
    box-shadow: var(--shadow-lg);
}

.shadow-none {
    box-shadow: none;
}

/* Background Utilities */
.bg-surface {
    background-color: var(--color-surface);
}

.bg-secondary {
    background-color: var(--color-bg-secondary);
}

.bg-primary {
    background-color: var(--color-primary);
}